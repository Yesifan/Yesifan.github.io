{"version":3,"sources":["Route/todo/todo-item.js","model/todo/todo.js","Route/todo/index.js","Utils/Tween.js","Components/Swiper/index.js","Route/Swiper/index.js","Components/Carousel/index.js","Route/Carousel/index.js","lib/tool.js","Route/chat/modules/Input/Input.js","Route/chat/modules/bubble/index.js","Route/chat/dialog.js","Route/chat/index.js","Route/404/index.js","App.js","registerServiceWorker.js","index.js"],"names":["TodoItem","_ref","todo","onToggle","onDestroy","onEditor","onSubmit","editing","react_default","a","createElement","className","classNames","completed","todo-item","type","checked","onChange","id","contentEditable","onKeyDown","e","which","target","innerHTML","onBlur","onDoubleClick","dangerouslySetInnerHTML","__html","text","onClick","store","TodoModel","that","Object","classCallCheck","this","react","_todos","JSON","parse","localStorage","getItem","setState","todos","console","log","setItem","stringify","_this","prevState","$$todos","Immutable","fromJS","push","v4","toJS","update","_this2","delete","index","findIndex","value","getIn","setIn","_this3","_this4","ENTER_KEY","TodoList","props","possibleConstructorReturn","getPrototypeOf","call","handleChange","event","newTodo","handleNewTodoKeyDown","keyCode","preventDefault","val","state","trim","model","addTodo","itemToggle","statusChange","itemDestroy","itemEdit","editor","focus","itemSubmit","save","assertThisInitialized","init","_this$props","match","history","test","params","filter","isExact","todoItem","length","map","todo_item","key","placeholder","autoFocus","selected","Link","to","Component","Expo","t","b","c","d","Math","pow","Swiper","animation","undefined","translate","i","prevI","_ref2","cancelAnimationFrame","swiper","from","befor","time","now","_translate","requestAnimationFrame","style","transform","concat","_this$props2","children","item","Array","isArray","renderSwiper","assign","defaultProps","Carousel","interval","clearInterval","setInterval","Components_Swiper","ref","Item","activeIndex","width","_useState","useState","_useState2","slicedToArray","setTranslate","_useState3","_useState4","animating","setAnimating","prevIndex","useRef","useEffect","current","usePrevious","oldIndex","parentWidth","processIndex","translateItem","_useState5","_useState6","setIndex","main","offsetWidth","setTimeout","clearTimeout","src_Route_Carousel","Components_Carousel","delay","amount","arguments","Promise","resolve","Select","Options","options","send","dialog","keys","brief","join","Input","_Component","handleClick","show","handleSend","msg","sendMessage","inherits","createClass","react_transition_group","in","timeout","unmountOnExit","Input_Select","Bubble","apply","left","content","src","alt","answer","0000","response","next","0001","qusition","work","Dot","App","meMessage","Dialog","then","_options","_setState","_dialog","floor","random","chatChain","forEach","pushMessage","nodelay","prev","toConsumableArray","chat_Dot","updateScroll","img","document","onload","getImage","min","gradient","newDialog","slice","sendChain","split","fun","node","$box","scrollHeight","scrollTop","distance","clientHeight","startTime","Date","step","p","inputing","React","createRef","_this$state","bubble_Bubble","Input_Input","Nope","HashRouter","Switch","Route","exact","path","component","Chat","Redirect","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","ReactDOM","render","src_App","getElementById","URL","process","origin","addEventListener","fetch","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.8dad4bce.chunk.js","sourcesContent":["import React from 'react';\r\nimport classNames from 'classnames';\r\nimport './todo.css';\r\n\r\nconst ENTER_KEY = 13;\r\nconst ESCAPE_KEY = 27;\r\n\r\nconst TodoItem = ({todo,onToggle,onDestroy,onEditor,onSubmit,editing}) => {\r\n    const handleKeyDown = e =>{\r\n        if (e.which === ENTER_KEY) onSubmit(todo.id,e.target.innerHTML)\r\n        else if (e.which === ESCAPE_KEY) onDestroy(todo.id)\r\n        \r\n    }\r\n    return(\r\n        <li className={classNames({\r\n            'completed': todo.completed,\r\n            'todo-item':true})} >\r\n            <div className=\"view\">\r\n                <input\r\n                    className=\"toggle\"\r\n                    type=\"checkbox\"\r\n                    checked={todo.completed}\r\n                    onChange={()=>onToggle(todo.id)}\r\n                />\r\n                <label contentEditable={editing}\r\n                    onKeyDown={handleKeyDown}\r\n                    onBlur = {e => onSubmit(todo.id,e.target.innerHTML)}\r\n                    onDoubleClick = {e => onEditor(todo.id,e)}\r\n                    dangerouslySetInnerHTML={{__html: todo.text}} >\r\n                </label>\r\n                <button className=\"destroy\" onClick={()=>onDestroy(todo.id)} />\r\n            </div>\r\n        </li>\r\n    )}\r\n\r\nexport default TodoItem;","import { v4 } from 'uuid';\r\nimport Immutable from \"immutable\";\r\nconst store = 'y-todos';\r\nexport default class TodoModel{\r\n  constructor(that){\r\n    this.react = that;\r\n    this._todos = JSON.parse(localStorage.getItem(store))||[];\r\n  }\r\n\r\n  init(){\r\n    this.react.setState({todos:this._todos})\r\n  }\r\n\r\n  update(){\r\n    console.log(this._todos);\r\n    localStorage.setItem(store,JSON.stringify(this._todos))\r\n  }\r\n\r\n  addTodo(text){\r\n    this.react.setState((prevState) => {\r\n      const $$todos = Immutable.fromJS(prevState.todos||[]).push({\r\n        id:v4(),\r\n        completed:false,\r\n        text:text,\r\n      })\r\n      this._todos = $$todos.toJS();\r\n      return {\r\n        todos: this._todos\r\n      };\r\n    },()=>this.update());\r\n\r\n  }\r\n\r\n  save(id,text){\r\n    if(!text) return this.delete(id);\r\n    const $$todos = Immutable.fromJS(this._todos);\r\n    const index = $$todos.findIndex(value => value.getIn&&value.getIn(['id']) === id);\r\n    this._todos = $$todos.setIn([index,'text'],text).toJS();\r\n    this.react.setState({\r\n        todos: this._todos\r\n    },()=>this.update());\r\n  }\r\n\r\n  delete(id){\r\n    this.react.setState((prevState) => {\r\n      const $$todos = Immutable.fromJS(prevState.todos);\r\n      const index = $$todos.findIndex(value => value.getIn&&value.getIn(['id']) === id);\r\n      this._todos = $$todos.delete(index).toJS();\r\n      return {\r\n        todos: this._todos\r\n      };\r\n    },()=>this.update());\r\n  }\r\n\r\n  statusChange(id){\r\n    this.react.setState((prevState) => {\r\n      const $$todos = Immutable.fromJS(prevState.todos);\r\n      const index = $$todos.findIndex(value => value.getIn&&value.getIn(['id']) === id);\r\n      this._todos = $$todos.setIn([index,'completed'],!$$todos.getIn([index,'completed'])).toJS();\r\n      return {\r\n        todos: this._todos\r\n      };\r\n    },()=>this.update());\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport TodoItem from \"./todo-item\";\r\nimport TodoModel from \"../../model/todo/todo\";\r\nconst ENTER_KEY = 13;\r\n\r\nclass TodoList extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      newTodo:'',\r\n      editor:false,\r\n      todos: [\r\n        {\r\n          id:'asdf',\r\n          completed:false,\r\n          text:'text',\r\n        },\r\n      ]\r\n    }\r\n\r\n    this.model = new TodoModel(this);    \r\n  };\r\n\r\n  componentDidMount(){\r\n    this.model.init();\r\n    let {match,history} = this.props;\r\n    if(!/^(all|active|completed)$/.test(match.params.filter)||!match.isExact) history.push('/todo/all')\r\n  }\r\n  \r\n  handleChange = event => {\r\n    this.setState({newTodo: event.target.value});\r\n  }\r\n\r\n  handleNewTodoKeyDown = event => {\r\n    if (event.keyCode !== ENTER_KEY) return;\r\n    \r\n    event.preventDefault();\r\n\r\n    const val = this.state.newTodo.trim();\r\n\r\n    if (val) {\r\n      this.model.addTodo(val);\r\n      this.setState({newTodo: ''});\r\n    }\r\n  }\r\n\r\n  itemToggle = id => this.model.statusChange(id)\r\n  \r\n  itemDestroy = id => this.model.delete(id);\r\n\r\n  itemEdit = (id,e) => {\r\n    let target = e.target;\r\n    this.setState({editor:id},()=>target.focus());\r\n    // console.log(e.target);\r\n  }\r\n\r\n  itemSubmit = (id,text) => {\r\n    this.model.save(id,text);\r\n    this.setState({editor:false});\r\n  }\r\n\r\n  render() {\r\n    let todoItem;\r\n    let {match} = this.props;\r\n\r\n    if (this.state.todos.length) {\r\n      todoItem = this.state.todos.filter(\r\n        todo => {\r\n          if(match.params.filter === 'all') return true;\r\n          return todo.completed === (match.params.filter === 'completed')\r\n        }\r\n      )\r\n      .map(\r\n        todo => <TodoItem \r\n          key = {todo.id} todo={todo} \r\n          editing = {todo.id===this.state.editor}\r\n          onEditor = {this.itemEdit}\r\n          onSubmit = {this.itemSubmit}\r\n          onToggle = {this.itemToggle}\r\n          onDestroy = {this.itemDestroy}/>\r\n      )\r\n    }\r\n    return (\r\n      <main className='main'>\r\n        <header className=\"header\">\r\n          <h1 id='title'>todos</h1>\r\n          <input\r\n            className=\"new-todo\"\r\n            placeholder=\"What needs to be done?\"\r\n            value={this.state.newTodo}\r\n            onKeyDown={this.handleNewTodoKeyDown}\r\n            onChange={this.handleChange}\r\n            autoFocus={true} />\r\n\t\t\t\t</header>\r\n        {todoItem}\r\n        <footer className=\"footer\">\r\n        <ul className=\"filters\">\r\n          <li className={classNames({selected: match.params.filter === 'all'})}><Link to={`./all`}>All</Link></li>\r\n          <li className={classNames({selected: match.params.filter === 'active'})}><Link to={`./active`}>Active</Link></li>\r\n          <li className={classNames({selected: match.params.filter === 'completed'})}><Link to={`./completed`}>Completed</Link></li>\r\n        </ul>\r\n      </footer>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TodoList;","/*\r\n * Tween.js\r\n * t: current time（当前时间）；\r\n * b: beginning value（初始值）；\r\n * c: change in value（变化量）；\r\n * d: duration（持续时间）。\r\n * you can visit 'http://easings.net/zh-cn' to get effect\r\n*/\r\n\r\nexport const Expo = {\r\n  easeIn: function(t, b, c, d) {\r\n      return (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\r\n  },\r\n  easeOut: function(t, b, c, d) {\r\n      return (t==d) ? b + c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\r\n  },\r\n  easeInOut: function(t, b, c, d) {\r\n      if (t==0) return b;\r\n      if (t==d) return b+c;\r\n      if ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\r\n      return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\r\n  }\r\n};","import React,{ Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Expo } from '../../Utils/Tween';\r\nimport './Swiper.css';\r\n\r\n\r\nclass Swiper extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.animation = undefined;\r\n    this.state = {\r\n      translate: -100 * props.i\r\n    };\r\n  }\r\n\r\n  componentDidUpdate({i: prevI},{translate}){\r\n    if (prevI !== this.props.i){\r\n      cancelAnimationFrame(this.animation);\r\n      this.swiper(translate,0);\r\n    }\r\n  }\r\n\r\n  swiper(from,befor){\r\n    const { translate } = this.state;\r\n    const { i,time } = this.props;\r\n    const now = befor + 1;\r\n    const to = i * -100;\r\n\r\n    const _translate = Expo.easeOut(now,from,to - from,time);\r\n    this.setState({translate: _translate},() => {\r\n      if (to !== this.state.translate)\r\n        this.animation = requestAnimationFrame(() => this.swiper(from,now));\r\n    });\r\n  }\r\n\r\n  renderSwiper(e,index){\r\n    const { translate } = this.state;\r\n    const _translate = translate + index * 100;\r\n    if (_translate > -100 && _translate < 100)\r\n      return (\r\n        <div key={ index } style={{transform: `translateY(${_translate}%)`}} >\r\n          {e}\r\n        </div>\r\n      );\r\n  }\r\n\r\n  render() { \r\n    const {children,style,className} = this.props;\r\n    const _children = Array.isArray(children)?children:[children]\r\n    const item = _children.map( (e, index) => this.renderSwiper(e,index));\r\n\r\n    return (\r\n      <section {...this.props} className={`wrapper ${className||''}`.trim()}>\r\n        {item}\r\n      </section>\r\n    );\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    cancelAnimationFrame(this.animation);\r\n  }\r\n}\r\n\r\nSwiper.propTypes = {\r\n  // name: PropTypes.string,\r\n  children: PropTypes.any,\r\n  i: PropTypes.number,\r\n  time: PropTypes.number,\r\n  className: PropTypes.string\r\n};\r\n\r\nSwiper.defaultProps = {\r\n  i: 0,\r\n  time: 200,\r\n};\r\n\r\n\r\n\r\nexport default Swiper;","import React,{Component} from 'react';\r\nimport Swiper from \"../../Components/Swiper/\";\r\nimport PropTypes from 'prop-types';\r\nimport './index.css'\r\nexport default class Carousel extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.interval = undefined;\r\n    this.state = {\r\n      index:1\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.interval = this.swiper();\r\n  }\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n  swiper(){\r\n    return setInterval(()=>{\r\n      this.setState(({index}) => ({index:++index<=3-1?index:0}))\r\n    },1000)\r\n  }\r\n  render(){\r\n    const {index} = this.state;\r\n     return (\r\n      <Swiper ref='carousel' className='carousel' i={index}>\r\n        <div className='carousel_item red'></div>\r\n        <div className='carousel_item black'></div>\r\n        <div className='carousel_item green'></div>\r\n      </Swiper>\r\n     )\r\n  }\r\n}","import React,{ Component,useState, useEffect, useRef, useMutationEffect  } from 'react';\r\nimport './Carousel.scss';\r\n\r\nfunction usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}\r\n\r\nfunction Item(props) {\r\n  const {activeIndex,index,length,width} = props;\r\n  const [translate, setTranslate] = useState(0);\r\n  const [animating, setAnimating] = useState(false);\r\n  const prevIndex = usePrevious(activeIndex);\r\n\r\n  useEffect(() => {\r\n    translateItem(index,activeIndex,prevIndex);\r\n    /**\r\n     * @param index - 此item的index\r\n     * @param activeIndex - 下一个活动index\r\n     * @param oldIndex - 上一个活动的index\r\n     */\r\n    function translateItem(index, activeIndex, oldIndex) {\r\n      const parentWidth = width;\r\n\r\n      if (oldIndex !== undefined) {\r\n        if(index === activeIndex || index === oldIndex){\r\n          setAnimating(true);\r\n        }else{\r\n          if(activeIndex===oldIndex&&(this.translate!==parentWidth||this.translate!==-parentWidth)){\r\n            setAnimating(true);\r\n          }else{\r\n            setAnimating(false);\r\n          }\r\n        }\r\n      }\r\n      if (index !== activeIndex && length > 2) {\r\n        index = processIndex(index, activeIndex, length);\r\n      }\r\n      setTranslate(parentWidth * (index - activeIndex));\r\n\r\n      function processIndex(index, activeIndex, length) {\r\n        if (activeIndex === 0 && index === length - 1) {\r\n          return -1;\r\n        } else if (activeIndex === length - 1 && index === 0) {\r\n          return length;\r\n        } else if (index < activeIndex - 1 && activeIndex - index >= length / 2) {\r\n          return length + 1;\r\n        } else if (index > activeIndex + 1 && index - activeIndex >= length / 2) {\r\n          return -2;\r\n        }\r\n        return index;\r\n      };\r\n    };\r\n  },[props.activeIndex]);\r\n\r\n  return (\r\n    <div className={`carousel-item ${animating?'animating':''}`} style={{transform: `translateX(${ translate }px)`}}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction Carousel(props){\r\n  const [activeIndex, setIndex] = useState(0);\r\n  const { children } = props;\r\n  const main = useRef();\r\n  const { offsetWidth } = main.current||0;\r\n  useEffect(() => {\r\n    let index = activeIndex + 1;\r\n    index = index >= children.length?0:index;\r\n    const interval = setTimeout(()=>{setIndex(index)},1000);\r\n    return ()=>clearTimeout(interval)\r\n  });\r\n\r\n  const item = children.map( (e, index) => \r\n    <Item key={index} index={index} width={offsetWidth} length={children.length} activeIndex={activeIndex}>\r\n      {[e]}\r\n    </Item>);\r\n  return <section {...props} ref={main}>\r\n    {item}\r\n  </section>\r\n}\r\n\r\n\r\n\r\nexport default Carousel;","import React,{Component} from 'react';\r\nimport Carousel from \"../../Components/Carousel/\";\r\nimport './index.css'\r\nexport default function() {\r\n  return (\r\n    <Carousel className='carousel'>\r\n      <div className='carousel_item red'></div>\r\n      <div className='carousel_item black'></div>\r\n      <div className='carousel_item green'></div>\r\n    </Carousel>\r\n  )\r\n}","import { useRef, useEffect } from 'react';\r\n\r\nexport function delay(amount = 0){\r\n  return new Promise(resolve => {\r\n      setTimeout(resolve, amount);\r\n  });\r\n}\r\n\r\nexport function getImage(src){\r\n  if(typeof src === 'string'){\r\n    const img = document.createElement('img');\r\n    img.src = src;\r\n    return new Promise( resolve => img.onload = () => resolve(img));\r\n  }\r\n  return Promise.resolve();\r\n}\r\n\r\nexport function chain(){\r\n  const chain = useRef();\r\n  chain.current = Promise.resolve();\r\n  return chain.current;\r\n}\r\n\r\nexport function usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}","import React, { Component } from 'react';\r\nimport { CSSTransition } from 'react-transition-group'; \r\nimport './input.scss';\r\n\r\nconst Select = ({options,send})=>{\r\n  let Options,type;\r\n  if(!options) return null;\r\n  if(options instanceof Array){\r\n    type = 'qustion';\r\n    Options = options.map((item,index)=>\r\n      <div className='__select_item' key={index} onClick={()=>send(item)}>\r\n        {item.dialog}\r\n      </div>\r\n    )\r\n  }else{\r\n    type = 'brief';\r\n    Options = Object.keys(options).map((key,index)=>\r\n      <div className='__select_item' key={index} onClick={()=>send(options[key])}>\r\n        {options[key].brief}\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <div className={['__select',type].join(' ')}>\r\n      {Options}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport class Input extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      show:false\r\n    }\r\n  }\r\n  handleClick = ()=>{\r\n    this.setState((prevState=>({show:!prevState.show})))\r\n  };\r\n  handleSend = (msg) => {\r\n    this.setState({show:false});\r\n    this.props.sendMessage(msg);\r\n  }\r\n  render() {\r\n    const {children,dialog} = this.props;\r\n    const {show} = this.state;\r\n    return (\r\n      <div className='select-input'>\r\n        <CSSTransition in={show} timeout={300} classNames=\"select\" unmountOnExit>\r\n          <Select options={dialog} send={this.handleSend}/>\r\n        </CSSTransition>\r\n        <div className='__input'  onClick={this.handleClick}>{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Input;","import React,{Component} from 'react';\r\nimport './index.scss';\r\n\r\nexport class Bubble extends Component{\r\n  render() {\r\n    const {left,children} = this.props;\r\n    const content = children.type === 'img'?<img src={children.src} alt='聊天'/>:children;\r\n    return (\r\n      <div className={['bubble', left?'left':'right'].join(' ')}>\r\n        <span>{content}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Bubble;","export const dialog = {\r\n  answer:{\r\n    '0000':{\r\n      dialog:[\r\n        ['你好',{\r\n          type:'img',\r\n          src:'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1536570116809&di=57b843c27e015e1c770df362c109069d&imgtype=0&src=http%3A%2F%2Fimg.mp.sohu.com%2Fupload%2F20170809%2F796191908b6c453198c7035a0c3901aa_th.png'\r\n        }]\r\n      ],\r\n      response:[\r\n        {\r\n          dialog:[\r\n            ['你好']\r\n          ],\r\n          next:'0001'\r\n        }\r\n      ]\r\n    },\r\n    '0001':{\r\n      dialog:[\r\n        [`君不见，黄河之水天上来，奔流到海不复回。\r\n          君不见，高堂明镜悲白发，朝如青丝暮成雪。\r\n          人生得意须尽欢，莫使金樽空对月。\r\n          天生我材必有用，千金散尽还复来。\r\n          烹羊宰牛且为乐，会须一饮三百杯。\r\n          岑夫子，丹丘生，将进酒，杯莫停。\r\n          与君歌一曲，请君为我倾耳听。\r\n          钟鼓馔玉不足贵，但愿长醉不复醒。\r\n          古来圣贤皆寂寞，惟有饮者留其名。\r\n          陈王昔时宴平乐，斗酒十千恣欢谑。\r\n          主人何为言少钱，径须沽取对君酌。\r\n          五花马，千金裘，呼儿将出换美酒，与尔同销万古愁。`]\r\n      ]\r\n    }\r\n  },\r\n  qusition:{\r\n    work:{\r\n      brief:'工作',\r\n      dialog:[\r\n        ['你好','你工作怎么样']\r\n      ],\r\n      next:'0000'\r\n    }\r\n  }\r\n}\r\n\r\nexport default dialog;","import React, { Component } from 'react';\r\nimport { delay,getImage } from '../../lib/tool';\r\nimport './index.scss';\r\n\r\nimport { Input, Bubble } from \"./modules\";\r\nimport Dialog from './dialog';\r\n\r\nconst Dot = () => [\r\n  <div className='dot' key={1}></div>,\r\n  <div className='dot' key={2}></div>,\r\n  <div className='dot' key={3}></div>\r\n]\r\n\r\nexport default class App extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      inputing:false,\r\n      dialog:[],\r\n      options:[],\r\n    };\r\n    this.$box = React.createRef();\r\n    this.chatChain = Promise.resolve();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.meMessage('0000')\r\n  }\r\n\r\n  meMessage = (id) => {\r\n    const answer = Dialog.answer[id];\r\n    return this.sendMessage(answer,true)\r\n    .then(()=>{\r\n      let _options = Dialog.qusition;\r\n      if(answer.response) _options = answer.response;\r\n      return this._setState({options:_options})\r\n    })\r\n  };\r\n\r\n  sendMessage = ({dialog,next},answer)=>{\r\n    const _dialog = dialog[Math.floor(Math.random() * dialog.length)]; // 随机获取\r\n    let chatChain = this.chatChain.then(()=>this._setState({options:null}))\r\n    if(_dialog instanceof Array){\r\n      _dialog.forEach((msg)=>{\r\n        chatChain = chatChain.then(()=>this.pushMessage(msg,answer));\r\n      })\r\n    }else chatChain = chatChain.then(()=>this.pushMessage(_dialog,answer));\r\n    chatChain\r\n      .then(()=>{\r\n        if(next) return this.meMessage(next);\r\n      })\r\n    return chatChain;\r\n  }\r\n\r\n  pushMessage = (msg, answer = false) => {\r\n    const gradient = (msg,index = 0) => {\r\n      return this._setState((prev)=>{\r\n        const newDialog = [...prev.dialog];\r\n        newDialog[newDialog.length-1] = msg.type === 'img'?\r\n        {content:msg, answer}:{content:msg.slice(0,index), answer}\r\n        return { dialog:newDialog }\r\n      })\r\n      .then(this.updateScroll)\r\n      .then(()=>delay(Math.random()*80+70))\r\n      .then(()=>{\r\n        if(index === msg.length||msg.type === 'img') return delay(Math.random()*100+100);\r\n        else return gradient(msg,++index)\r\n      })\r\n    }\r\n\r\n    const send = (msg,nodelay) => {\r\n      return this._setState((prev)=>({\r\n        dialog:[...prev.dialog,{content:<Dot/>, answer}]\r\n      }))\r\n      .then(this.updateScroll)\r\n      .then(()=>nodelay?50:msg.type === 'img'?getImage(msg.src):delay(msg.length>5?Math.min(100 * msg.length, 2000):0))\r\n      .then(()=>gradient(msg))\r\n    }\r\n\r\n    let sendChain = Promise.resolve();\r\n\r\n    if(typeof msg === 'string'){\r\n      msg.split('\\n').forEach((item,index)=>{\r\n        sendChain = sendChain.then(()=>send(item.trim(),index!==0))\r\n      })\r\n    }\r\n    else sendChain.then(()=>send(msg));\r\n\r\n    return sendChain;\r\n  }\r\n\r\n  _setState = (fun) => new Promise((resolve)=>{\r\n    this.setState(fun,resolve)\r\n  })\r\n\r\n  updateScroll = () => {\r\n    const node = this.$box.current;\r\n    const {scrollHeight,scrollTop,clientHeight: height} = node;\r\n    const distance = scrollHeight - height - scrollTop;\r\n    const duration = 250;\r\n    const startTime = Date.now();\r\n    requestAnimationFrame(function step() {\r\n      const p = Math.min(1, (Date.now() - startTime) / duration);\r\n      node.scrollTop = scrollTop + distance * p;\r\n      p < 1 && requestAnimationFrame(step);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {dialog,options} = this.state;\r\n    return (\r\n      <div id=\"chat\">\r\n        {/* <header>叶思凡</header> */}\r\n        <div className='box' ref={this.$box}>\r\n          {dialog.map((item,index)=>{\r\n            if(item instanceof Object) return <Bubble key={index} left={item.answer}>{item.content}</Bubble>\r\n            return <Bubble key={index}>{item}</Bubble>\r\n          })}\r\n        </div>\r\n        <Input dialog={options} sendMessage={this.sendMessage}>\r\n          {options?'说点什么...':'输入中...'}\r\n        </Input>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\n\r\nconst Nope = ()=>\r\n  <div>\r\n    <h1>404</h1>\r\n  </div>\r\n\r\nexport default Nope;","import React, { Component } from 'react';\r\nimport { HashRouter as Router, Redirect, Switch, Route } from \"react-router-dom\";\r\n\r\nimport TodoList from './Route/todo';\r\nimport Swiper from \"./Route/Swiper\";\r\nimport Carousel from \"./Route/Carousel\";\r\nimport Chat from \"./Route/chat\";\r\nimport Nope from \"./Route/404/index\";\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/todo/:filter\" component={TodoList} />\r\n          <Route exact path=\"/carousel\" component={Carousel} />\r\n          <Route exact path=\"/swiper\" component={Swiper} />\r\n          <Route exact path=\"/chat\" component={Chat} />\r\n          <Redirect from=\"/todo\" to=\"/todo/all\" />          \r\n          <Route component={Nope} />\r\n        </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}